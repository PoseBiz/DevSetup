<VirtualHost *:<%= @params[:server_port] %>>
  ServerAdmin <%= @params[:server_admin] %>
  Servername <%= @params[:server_name] %>
  DocumentRoot <%= @params[:docroot] %>
  <Directory  <%= @params[:docroot] %>>
    Options FollowSymLinks ExecCGI
    AllowOverride None
    Require all granted

    # former symfony .htaccess
    RewriteEngine On
    # we check if the .html version is here (caching)
    RewriteRule ^$ index.html [QSA]
    RewriteRule ^([^.]+)$ $1.html [QSA]
    RewriteCond %{REQUEST_FILENAME} !-f
    # no, so we redirect to our front web controller
    RewriteRule ^(.*)$ index.php [QSA,L]
  </Directory>
 
  Alias /sf <%= @params[:docmainroot] %>/lib/vendor/symfony/data/web/sf
  <Directory "<%= @params[:docmainroot] %>/lib/vendor/symfony/data/web/sf">

    AllowOverride None
    Require all granted
    
  </Directory>
 
  ErrorLog /var/log/apache2/error.log
  CustomLog /var/log/apache2/access.log combined
</VirtualHost>
